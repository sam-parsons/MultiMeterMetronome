{"version":3,"sources":["Components/Dimension/NumBeats.js","Components/Dimension/Subdivision.js","Components/Dimension/PlayStopButton.js","Components/Dimension/TempoSlider.js","Components/Dimension/ResetButton.js","Components/Dimension.js","Components/StepSequence/TopRow.js","Components/StepSequence/BottomRow.js","Components/StepSequence.js","App.js","index.js"],"names":["NumBeats","_this","this","react_default","a","createElement","id","defaultValue","onChange","props","updateTimeSig","playing","restartPlaying","value","_this2","selectElement","timeSig","renderNormal","renderShort","className","React","Component","Subdivision","PlayStopButton","onClick","updateMetronome","togglePlaying","TempoSlider","type","min","max","updateBPM","name","updateTempoSubdivision","bpm","ResetButton","resetMetronome","Dimension","Dimension_NumBeats","Dimension_Subdivision","Dimension_ResetButton","Dimension_PlayStopButton","Dimension_TempoSlider","TopRow","e","updateNotes","BottomRow","StepSequence","StepSequence_TopRow","StepSequence_BottomRow","synth","Tone","PolySynth","Synth","toMaster","StartAudioContext","context","then","console","log","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","notes","renderedNotes","metronomeContainer","defaults","generateMetronome","generateStepSequence","window","addEventListener","keyCode","preventDefault","newFunc","adjustLabelWidth","isFiring","requestAnimationFrame","_this3","setState","seqIsPlaying","Transport","stop","loop","loopEnd","clearVisualization","loopStart","concat","calcMetLength","start","_this4","error","_this5","document","querySelector","Math","sqrt","slider","innerHTML","parseInt","_this6","top","bottom","pow","_this7","topNote","bottomNote","tempBPM","forEach","part","removeAll","_this$state$notes","slicedToArray","note1","note2","metLength","beatTicks","calcBeatTicks","i","push","note","time","velocity","Part","triggerAttackRelease","_this8","matrix","readCheckboxes","labelCount","labelNum","advanceVisualization","index","labelList","querySelectorAll","length","style","background","label","generateSeqMatrix","topRow","bottomRow","div","key","element","checked","setAttribute","appendChild","projLabelWidth","appWidth","offsetWidth","selectWidth","childElementCount","totalLabelsWidth","totalElementsWidth","stepSeq","labels","round","width","height","margin","array","topRowButtons","bottomRowButtons","topArray","bottomArray","_this$state$timeSig","numerator","finalMatrix","_this$state$timeSig2","tempMultiplier","Components_Dimension","bind","Components_StepSequence","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.7ec51dcf.chunk.js","sourcesContent":["import React from \"react\";\n\nclass NumBeats extends React.Component {\n  renderNormal() {\n    return (\n      <select\n        id=\"num-beats-input\"\n        defaultValue=\"4\"\n        onChange={() => {\n          this.props.updateTimeSig();\n          if (this.props.playing) {\n            this.props.restartPlaying();\n          }\n        }}\n      >\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n        <option value=\"4\">4</option>\n        <option value=\"5\">5</option>\n        <option value=\"6\">6</option>\n        <option value=\"7\">7</option>\n        <option value=\"8\">8</option>\n        <option value=\"9\">9</option>\n      </select>\n    );\n  }\n\n  renderShort() {\n    return (\n      <select\n        id=\"num-beats-input\"\n        defaultValue=\"4\"\n        onChange={() => {\n          this.props.updateTimeSig();\n          if (this.props.playing) {\n            this.props.restartPlaying();\n          }\n        }}\n      >\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n        <option value=\"4\">4</option>\n        <option value=\"5\">5</option>\n        <option value=\"6\">6</option>\n        <option value=\"7\">7</option>\n        <option value=\"8\">8</option>\n        <option value=\"9\">9</option>\n        <option value=\"10\">10</option>\n        <option value=\"11\">11</option>\n        <option value=\"12\">12</option>\n        <option value=\"13\">13</option>\n        <option value=\"14\">14</option>\n        <option value=\"15\">15</option>\n        <option value=\"16\">16</option>\n        <option value=\"17\">17</option>\n      </select>\n    );\n  }\n\n  render() {\n    const timeSig = this.props.timeSig;\n    let selectElement;\n\n    if (timeSig[1] === 2 || timeSig[1] === 4) {\n      selectElement = this.renderNormal();\n    } else {\n      selectElement = this.renderShort();\n    }\n\n    return (\n      <div className=\"num-beats-div\">\n        {selectElement}\n        <div id=\"num-beats-desc\"># of beats</div>\n      </div>\n    );\n  }\n}\n\nexport default NumBeats;\n","import React from \"react\";\n\nclass Subdivision extends React.Component {\n  render() {\n    return (\n      <div className=\"subdivision-div\">\n        <select\n          id=\"subdivision-input\"\n          defaultValue=\"2\"\n          onChange={() => {\n            this.props.updateTimeSig();\n            if (this.props.playing) {\n              this.props.restartPlaying();\n            }\n          }}\n        >\n          <option value=\"1\">2</option>\n          <option value=\"2\">4</option>\n          <option value=\"3\">8</option>\n          <option value=\"4\">16</option>\n          <option value=\"5\">32</option>\n        </select>\n        <div id=\"subdivision-desc\">subdivision</div>\n      </div>\n    );\n  }\n}\n\nexport default Subdivision;\n","import React from \"react\";\n\nclass PlayStopButton extends React.Component {\n  render() {\n    return (\n      <div id=\"play-stop-div\">\n        <button\n          className=\"top-btns\"\n          id=\"play-stop-btn\"\n          onClick={() => {\n            this.props.updateMetronome();\n            this.props.togglePlaying();\n          }}\n        >\n          {this.props.playing ? (\n            <span>&#10074;&#10074;</span>\n          ) : (\n            <span>&#9658;</span>\n          )}\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default PlayStopButton;\n","import React from \"react\";\n\nclass TempoSlider extends React.Component {\n  render() {\n    return (\n      <div id=\"tempo-div\">\n        <input\n          id=\"tempo-sld\"\n          type=\"range\"\n          min=\"30\"\n          max=\"400\"\n          defaultValue=\"120\"\n          onChange={() => this.props.updateBPM()}\n        />\n        <div id=\"tempo-value\">\n          <div id=\"tempo-value-header\">\n            <select\n              name=\"tempo-subdivision\"\n              id=\"tempo-subdivision\"\n              onChange={() => this.props.updateTempoSubdivision()}\n            >\n              <option value=\"Q\">Quarter notes per minute</option>\n              <option value=\"E\">Eighth notes per minute</option>\n            </select>\n\n            <div id=\"bpm-value\">{this.props.bpm}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TempoSlider;\n","import React from \"react\";\n\nclass ResetButton extends React.Component {\n  render() {\n    return (\n      <div id=\"reset-div\">\n        <button\n          className=\"reset-btn\"\n          id=\"reset-btn\"\n          onClick={() => {\n            this.props.resetMetronome();\n          }}\n        >\n          Reset\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default ResetButton;\n","import React from \"react\";\nimport NumBeats from \"./Dimension/NumBeats.js\";\nimport Subdivision from \"./Dimension/Subdivision.js\";\nimport PlayStopButton from \"./Dimension/PlayStopButton.js\";\nimport TempoSlider from \"./Dimension/TempoSlider.js\";\nimport ResetButton from \"./Dimension/ResetButton.js\";\n\nclass Dimension extends React.Component {\n  render() {\n    return (\n      <div className=\"dimension\">\n        <div className=\"time-signature\">\n          <NumBeats\n            playing={this.props.playing}\n            timeSig={this.props.timeSig}\n            updateTimeSig={this.props.updateTimeSig}\n            updateMetronome={this.props.updateMetronome}\n            restartPlaying={this.props.restartPlaying}\n          />\n          <Subdivision\n            playing={this.props.playing}\n            timeSig={this.props.timeSig}\n            updateTimeSig={this.props.updateTimeSig}\n            restartPlaying={this.props.restartPlaying}\n            updateMetronome={this.props.updateMetronome}\n          />\n          <ResetButton\n            updateTimeSig={this.props.updateTimeSig}\n            updateMetronome={this.props.updateMetronome}\n            resetMetronome={this.props.resetMetronome}\n          />\n        </div>\n        <div className=\"play-export\">\n          <PlayStopButton\n            togglePlaying={this.props.togglePlaying}\n            playing={this.props.playing}\n            updateMetronome={this.props.updateMetronome}\n          />\n        </div>\n        <TempoSlider\n          updateBPM={this.props.updateBPM}\n          bpm={this.props.bpm}\n          updateTempoSubdivision={this.props.updateTempoSubdivision}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Dimension;\n","import React from \"react\";\n\nclass TopRow extends React.Component {\n  render() {\n    return (\n      <div id=\"top-shell-div\" className=\"note-shell-divs\">\n        <select\n          name=\"note1\"\n          id=\"note1\"\n          className=\"note-selects\"\n          defaultValue=\"Eb5\"\n          onChange={e => {\n            this.props.updateNotes();\n          }}\n        >\n          <option value=\"Ab4\">Ab4</option>\n          <option value=\"A4\">A4</option>\n          <option value=\"Bb4\">Bb4</option>\n          <option value=\"B4\">B4</option>\n          <option value=\"C5\">C5</option>\n          <option value=\"Db5\">Db5</option>\n          <option value=\"D5\">D5</option>\n          <option value=\"Eb5\">Eb5</option>\n          <option value=\"E5\">E5</option>\n          <option value=\"F5\">F5</option>\n          <option value=\"Gb5\">Gb5</option>\n          <option value=\"G5\">G5</option>\n          <option value=\"Ab5\">Ab5</option>\n          <option value=\"A5\">A5</option>\n          <option value=\"Bb5\">Bb5</option>\n          <option value=\"B5\">B5</option>\n        </select>\n        <div\n          className=\"top-row\"\n          onClick={e => {\n            // e.preventDefault();\n            this.props.updateMetronome();\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default TopRow;\n","import React from \"react\";\n\nclass BottomRow extends React.Component {\n  render() {\n    return (\n      <div id=\"bottom-shell-div\" className=\"note-shell-divs\">\n        <select\n          name=\"note2\"\n          id=\"note2\"\n          className=\"note-selects\"\n          defaultValue=\"C5\"\n          onChange={e => {\n            this.props.updateNotes();\n          }}\n        >\n          <option value=\"Ab4\">Ab4</option>\n          <option value=\"A4\">A4</option>\n          <option value=\"Bb4\">Bb4</option>\n          <option value=\"B4\">B4</option>\n          <option value=\"C5\">C5</option>\n          <option value=\"Db5\">Db5</option>\n          <option value=\"D5\">D5</option>\n          <option value=\"Eb5\">Eb5</option>\n          <option value=\"E5\">E5</option>\n          <option value=\"F5\">F5</option>\n          <option value=\"Gb5\">Gb5</option>\n          <option value=\"G5\">G5</option>\n          <option value=\"Ab5\">Ab5</option>\n          <option value=\"A5\">A5</option>\n          <option value=\"Bb5\">Bb5</option>\n          <option value=\"B5\">B5</option>\n        </select>\n\n        <div\n          className=\"bottom-row\"\n          onClick={e => {\n            this.props.updateMetronome();\n            // e.preventDefault();\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default BottomRow;\n","import React from \"react\";\nimport TopRow from \"./StepSequence/TopRow.js\";\nimport BottomRow from \"./StepSequence/BottomRow.js\";\n// import ProgressBar from \"./StepSequence/ProgressBar.js\";\n\nclass StepSequence extends React.Component {\n  render() {\n    return (\n      <div id=\"step-sequence\">\n        <TopRow\n          updateMetronome={this.props.updateMetronome}\n          updateNotes={this.props.updateNotes}\n        />\n        <BottomRow\n          updateMetronome={this.props.updateMetronome}\n          updateNotes={this.props.updateNotes}\n        />\n        {/* <ProgressBar /> */}\n      </div>\n    );\n  }\n}\n\nexport default StepSequence;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Dimension from \"./Components/Dimension.js\";\nimport StepSequence from \"./Components/StepSequence.js\";\nimport Tone from \"tone\";\nimport StartAudioContext from \"startaudiocontext\";\n\n/*\nTo-Do\n- ability to type in tempo\n- visualizations\n- step sequencer better responsive performance\n- organize and document css files\n*/\n\n/*\n * Questions\n ** how/where to extract magic numbers in calcMetLength and calcBeatTicks ?? this.state.defaults: {timeSig:[4,4], ...}\n ** how does e.preventDefault() work on top and bottom row of step sequencer ??\n ** better way of writing resetMetronome() with multiple querySelectors on one element?\n ** h\n */\n\nconst synth = new Tone.PolySynth(2, Tone.Synth).toMaster();\n\n// this may be unnecessary\nStartAudioContext(Tone.context).then(function() {\n  console.log(\"start audio context triggered\");\n});\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playing: false,\n      bpm: 120,\n      notes: [\"C5\", \"Eb5\"],\n      timeSig: [4, 4],\n      renderedNotes: [],\n      metronomeContainer: [], // holds Part for future stoppage and erasal\n      defaults: {\n        timeSig: [4, 4],\n        bpm: 120,\n        notes: [\"C5\", \"Eb5\"]\n      }\n      // loopStatus: false, // what is this used for?\n      // tempDivisor: 4,\n      // placement: 0,\n      // visualizeIndex: 0,\n      // eventCache: []\n    };\n  }\n\n  componentDidMount() {\n    this.generateMetronome();\n    this.generateStepSequence();\n\n    // event listener for space bar\n    window.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 32 || e.keyCode === 13) {\n        try {\n          e.preventDefault(); // prevents space bar from triggering selected checkboxes\n          this.togglePlaying();\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    });\n\n    // throttle window resize listener\n    const newFunc = this.adjustLabelWidth;\n    let isFiring = false;\n    const throttleEvent = () => {\n      if (!isFiring) {\n        window.requestAnimationFrame(() => {\n          newFunc();\n          isFiring = false;\n        });\n      }\n      isFiring = true;\n    };\n    window.addEventListener(\"resize\", throttleEvent, false);\n  }\n\n  togglePlaying() {\n    if (this.state.playing) {\n      this.setState({ playing: false, seqIsPlaying: false }, () => {\n        //stop transport\n        Tone.Transport.stop();\n        console.log(\"playing stopped\");\n\n        // turn off looping - prevents collision with measure sequence loop\n        Tone.Transport.loop = false;\n        Tone.Transport.loopEnd = 0;\n\n        // clear visualization\n        this.clearVisualization();\n      });\n    } else {\n      this.setState({ playing: true, seqIsPlaying: false }, () => {\n        // configure looping for step sequencer\n        Tone.Transport.loopStart = 0;\n        console.log(`calculated metronome length: ${this.calcMetLength()}`);\n        Tone.Transport.loopEnd =\n          this.calcMetLength() / (this.state.bpm * (8 / 60)); // magic equation\n        Tone.Transport.loop = true;\n\n        // start transport after loop config\n        Tone.Transport.start(\"+0.0\");\n        console.log(\"playing initiated\");\n      });\n    }\n  }\n\n  restartPlaying() {\n    if (this.state.playing) {\n      this.setState({ playing: true, seqIsPlaying: false }, () => {\n        //stop transport\n        Tone.Transport.stop();\n\n        // configure looping for step sequencer\n        Tone.Transport.loopStart = 0;\n        Tone.Transport.loopEnd =\n          this.calcMetLength() / (this.state.bpm * (8 / 60)); // magic equation\n        Tone.Transport.loop = true;\n\n        // start transport after loop config\n        Tone.Transport.start(\"+0.0\");\n        console.log(\"playing restarted\");\n      });\n    } else {\n      console.error(\"restartPlaying called while not playing\");\n    }\n  }\n\n  resetMetronome() {\n    console.log(\"resetting metronome\");\n    this.setState(\n      {\n        bpm: this.state.defaults[\"bpm\"],\n        notes: this.state.defaults[\"notes\"],\n        timeSig: this.state.defaults[\"timeSig\"]\n      },\n      () => {\n        // querySelectors - eliminate magic numbers - maybe move somewhere else?\n        document.querySelector(\"#num-beats-input\").value = this.state.defaults[\n          \"timeSig\"\n        ][0];\n        document.querySelector(\"#subdivision-input\").value = Math.sqrt(\n          this.state.defaults[\"timeSig\"][1]\n        ); // how to eliminate sqrt call?\n        document.querySelector(\"#note1\").value = this.state.defaults[\n          \"notes\"\n        ][1];\n        document.querySelector(\"#note2\").value = this.state.defaults[\n          \"notes\"\n        ][0];\n\n        this.updateBPM(this.state.bpm);\n        this.generateStepSequence();\n        this.updateMetronome();\n        if (this.state.playing) this.restartPlaying();\n      }\n    );\n  }\n\n  updateBPM(value) {\n    // better way of writing this, maybe without two querySelectors??\n    const slider = value ? value : document.querySelector(\"#tempo-sld\").value;\n    if (value) {\n      document.querySelector(\"#tempo-sld\").value = value;\n    }\n    // set slider label\n    document.querySelector(\"#bpm-value\").innerHTML = `${slider}`;\n    this.setState(\n      {\n        bpm: parseInt(slider)\n      },\n      () => {\n        Tone.Transport.bpm.value = parseInt(slider);\n      }\n    );\n  }\n\n  updateTimeSig() {\n    // retrieve time signature values from select elements\n    const top = document.querySelector(\"#num-beats-input\");\n    const bottom = document.querySelector(\"#subdivision-input\");\n    this.setState(\n      {\n        timeSig: [parseInt(top.value), Math.pow(2, parseInt(bottom.value))]\n      },\n      () => {\n        console.log(\n          `time signature updated: ${this.state.timeSig[0]} / ${\n            this.state.timeSig[1]\n          }`\n        );\n        this.generateStepSequence();\n        this.updateMetronome();\n      }\n    );\n  }\n\n  // updates frequencies of notes\n  updateNotes() {\n    console.log(\"updating notes\");\n    const topNote = document.querySelector(\"#note1\").value;\n    const bottomNote = document.querySelector(\"#note2\").value;\n\n    this.setState(\n      {\n        notes: [bottomNote, topNote]\n      },\n      () => {\n        this.updateMetronome();\n      }\n    );\n  }\n\n  // updates quarter note or eighth note tempo\n  updateTempoSubdivision() {\n    console.log(\"updating tempo subdivision calculation\");\n    let tempBPM =\n      document.querySelector(\"#tempo-subdivision\").value === \"E\"\n        ? this.state.bpm * 2\n        : this.state.bpm / 2;\n\n    document.querySelector(\"#bpm-value\").innerHTML = tempBPM;\n    document.querySelector(\"#tempo-sld\").value = tempBPM;\n  }\n\n  generateMetronome() {\n    // erase or stop all previous parts\n    const metronomeContainer = this.state.metronomeContainer;\n    metronomeContainer.forEach(part => part.removeAll());\n\n    // metronome vitals\n    const [note1, note2] = this.state.notes;\n    const metLength = this.calcMetLength();\n    const beatTicks = this.calcBeatTicks();\n\n    // new renderedNotes array, populate\n    const renderedNotes = [];\n    for (let i = 0; i < metLength; i++) {\n      if (i === 0) {\n        renderedNotes.push({\n          note: note2,\n          time: `0:0`,\n          velocity: 0.05\n        });\n      } else if (i % beatTicks === 0) {\n        renderedNotes.push({\n          note: note1,\n          time: `0:${i / beatTicks}`,\n          velocity: 0.05\n        });\n      }\n    }\n\n    // create new Part, start Part, push Part to container\n    const part = new Tone.Part((time, value) => {\n      synth.triggerAttackRelease(value.note, 0.05, time, value.velocity);\n      console.log(\"sound\");\n    }, renderedNotes).start(0);\n    metronomeContainer.push(part);\n\n    this.setState({\n      renderedNotes,\n      metronomeContainer\n    });\n  }\n\n  updateMetronome() {\n    // erase or stop all previous parts\n    const metronomeContainer = this.state.metronomeContainer;\n    metronomeContainer.forEach(part => part.removeAll());\n\n    // metronome vitals\n    const timeSig = this.state.timeSig;\n    const notes = this.state.notes;\n    const metLength = this.calcMetLength(timeSig);\n    const beatTicks = this.calcBeatTicks(timeSig[1]);\n\n    // make copy of rendered notes and erase everything\n    const renderedNotes = [];\n    const matrix = this.readCheckboxes();\n    console.log(`updated matrix: `);\n    console.log([matrix[0], matrix[1]]);\n    let labelCount = 0;\n    for (let i = 0; i < metLength; i++) {\n      if (timeSig[1] <= 4 && i % (beatTicks / 2) === 0) {\n        if (matrix[0][i / (beatTicks / 2)] === 1) {\n          renderedNotes.push({\n            note: notes[1],\n            time: `0:${i / 8}`,\n            velocity: 0.1,\n            labelNum: labelCount++\n          });\n        } else if (matrix[1][i / (beatTicks / 2)] === 1) {\n          renderedNotes.push({\n            note: notes[0],\n            time: `0:${i / 8}`,\n            velocity: 0.1,\n            labelNum: labelCount++\n          });\n        } else {\n          // render silent notes\n          renderedNotes.push({\n            note: \"A5\",\n            time: `0:${i / 8}`,\n            velocity: 0,\n            labelNum: labelCount++\n          });\n        }\n      } else if (i % beatTicks === 0) {\n        if (matrix[0][i / beatTicks] === 1) {\n          renderedNotes.push({\n            note: notes[1],\n            time: `0:${i / 8}`,\n            velocity: 0.1,\n            labelNum: labelCount++\n          });\n        } else if (matrix[1][i / beatTicks] === 1) {\n          renderedNotes.push({\n            note: notes[0],\n            time: `0:${i / 8}`,\n            velocity: 0.1,\n            labelNum: labelCount++\n          });\n        } else {\n          // render silent notes\n          renderedNotes.push({\n            note: \"A5\",\n            time: `0:${i / 8}`,\n            velocity: 0,\n            labelNum: labelCount++\n          });\n        }\n      }\n    }\n\n    const part = new Tone.Part((time, value) => {\n      synth.triggerAttackRelease(value.note, 0.05, time, value.velocity);\n\n      this.advanceVisualization(value.labelNum);\n    }, renderedNotes).start(0);\n    metronomeContainer.push(part);\n\n    this.setState({\n      renderedNotes,\n      metronomeContainer\n    });\n  }\n\n  advanceVisualization(index) {\n    const labelList = document.querySelectorAll(\".labels\");\n    const length = labelList.length / 2;\n    if (index === 0) {\n      labelList[index].style.background = \"lavender\";\n      labelList[index + length].style.background = \"lavender\";\n      labelList[length - 1].style.background = \"none\";\n      labelList[length * 2 - 1].style.background = \"none\";\n    } else {\n      labelList[index].style.background = \"lavender\";\n      labelList[index + length].style.background = \"lavender\";\n      labelList[index - 1].style.background = \"none\";\n      labelList[index + length - 1].style.background = \"none\";\n    }\n  }\n\n  clearVisualization() {\n    const labelList = document.querySelectorAll(\".labels\");\n    labelList.forEach(label => (label.style.background = \"none\"));\n  }\n\n  generateStepSequence() {\n    const timeSig = this.state.timeSig;\n    const matrix = this.generateSeqMatrix();\n    const topRow = document.querySelector(\".top-row\");\n    const bottomRow = document.querySelector(\".bottom-row\");\n\n    // - halves and quarters are twice as many checkboxes as the numerator to accomodate one rhythmic level below (halves and quarters / quarters and eighths)\n    // updating top row checkboxes\n    if (timeSig[1] >= 8) {\n      topRow.innerHTML = \"\";\n      for (let i = 0; i < timeSig[0]; i++) {\n        const div = document.createElement(\"div\");\n        div.key = \"td\" + i;\n        div.className = \"top-row-shell\";\n        const element = document.createElement(\"input\");\n        element.type = \"checkbox\";\n        element.key = \"a\" + i;\n        element.id = \"tr\" + i;\n        element.className = \"top-row-btn\";\n        element.checked = i === 0 ? true : false;\n        const label = document.createElement(\"label\");\n        label.key = \"tk\" + i;\n        label.setAttribute(\"for\", \"tr\" + i);\n        label.className = \"labels\";\n        label.setAttribute(\"highlighted\", false);\n        div.appendChild(element);\n        div.appendChild(label);\n        topRow.appendChild(div);\n      }\n    } else if (timeSig[1] <= 4) {\n      topRow.innerHTML = \"\";\n      for (let i = 0; i < timeSig[0] * 2; i++) {\n        const div = document.createElement(\"div\");\n        div.key = \"td\" + i;\n        div.className = \"top-row-shell\";\n        const element = document.createElement(\"input\");\n        element.type = \"checkbox\";\n        element.key = \"b\" + i;\n        element.id = \"tr\" + i;\n        element.className = \"top-row-btn\";\n        element.checked = matrix[0] === 1 && i === 0 ? true : false;\n        const label = document.createElement(\"label\");\n        label.key = \"tk\" + i;\n        label.setAttribute(\"for\", \"tr\" + i);\n        label.className = \"labels\";\n        label.setAttribute(\"highlighted\", false);\n        div.appendChild(element);\n        div.appendChild(label);\n        topRow.appendChild(div);\n      }\n    }\n\n    // updating bottom row checkboxes\n    if (timeSig[1] >= 8) {\n      bottomRow.innerHTML = \"\";\n      for (let i = 0; i < timeSig[0]; i++) {\n        const div = document.createElement(\"div\");\n        div.key = \"td\" + i;\n        div.className = \"bottom-row-shell\";\n        const element = document.createElement(\"input\");\n        element.type = \"checkbox\";\n        element.key = \"a\" + i;\n        element.id = \"br\" + i;\n        element.className = \"bottom-row-btn\";\n        element.checked = matrix[i] === 1 && i !== 0 ? true : false;\n        const label = document.createElement(\"label\");\n        label.key = \"bk\" + i;\n        label.setAttribute(\"for\", \"br\" + i);\n        label.className = \"labels\";\n        div.appendChild(element);\n        div.appendChild(label);\n        bottomRow.appendChild(div);\n      }\n    } else if (timeSig[1] <= 4) {\n      bottomRow.innerHTML = \"\";\n      for (let i = 0; i < timeSig[0] * 2; i++) {\n        const div = document.createElement(\"div\");\n        div.key = \"td\" + i;\n        div.className = \"bottom-row-shell\";\n        const element = document.createElement(\"input\");\n        element.type = \"checkbox\";\n        element.key = \"b\" + i;\n        element.id = \"br\" + i;\n        element.className = \"bottom-row-btn\";\n        element.checked = matrix[i] === 1 && i !== 0 ? true : false;\n        const label = document.createElement(\"label\");\n        label.key = \"bk\" + i;\n        label.setAttribute(\"for\", \"br\" + i);\n        label.className = \"labels\";\n        div.appendChild(element);\n        div.appendChild(label);\n        bottomRow.appendChild(div);\n      }\n    }\n\n    this.adjustLabelWidth();\n  }\n\n  // adjust step sequencer widths on DOM for large numerators\n  adjustLabelWidth() {\n    // resize checkboxes if appropriate\n    // gather layout data from DOM\n    const appWidth = document.querySelector(\".App\").offsetWidth;\n    const selectWidth =\n      document.querySelector(\"#note1\").offsetWidth +\n      0.075 * document.querySelector(\".App\").offsetWidth;\n    const labelCount = document.querySelector(\".top-row\").childElementCount;\n    const totalLabelsWidth =\n      (document.querySelector(\".labels\").offsetWidth + 0.01 * appWidth) *\n      labelCount;\n    const totalElementsWidth =\n      document.querySelector(\"#note1\").offsetWidth +\n      0.075 * appWidth +\n      totalLabelsWidth;\n\n    // if totalElementsWidth greater than appWidth, shrink checkboxes to fit\n    const stepSeq = document.querySelector(\"#step-sequence\");\n    const labels = document.querySelectorAll(\".labels\");\n    let projLabelWidth;\n    if (appWidth - totalElementsWidth < 0) {\n      projLabelWidth = Math.round(\n        (appWidth - selectWidth) / labelCount - 0.01 * appWidth\n      );\n      console.log(\"projected label width: \", projLabelWidth);\n      labels.forEach(label => {\n        label.style.width = `${projLabelWidth}px`;\n        label.style.height = `${projLabelWidth}px`;\n      });\n      stepSeq.style.margin = \"-5% auto auto\";\n    } else {\n      // default label formatting\n      console.log(\"standard label width: 30px\");\n      console.log(\n        \"app width: \" + appWidth + \" - elements width: \" + totalElementsWidth\n      );\n      labels.forEach(label => {\n        label.style.width = `30px`;\n        label.style.height = `30px`;\n      });\n      stepSeq.style.margin = `-5% auto auto ${Math.round(\n        (appWidth - totalElementsWidth) / 20\n      )}%`;\n    }\n  }\n\n  // returns a 2d matrix based upon the current state of the step sequencer\n  readCheckboxes(array) {\n    // gather current checkboxes\n    const topRowButtons = document.querySelectorAll(\".top-row-btn\");\n    const bottomRowButtons = document.querySelectorAll(\".bottom-row-btn\");\n    // create new arrays\n    const topArray = [];\n    const bottomArray = [];\n    if (!array) {\n      for (let i = 0; i < topRowButtons.length; i++) {\n        topArray.push(topRowButtons[i].checked ? 1 : 0);\n        bottomArray.push(bottomRowButtons[i].checked ? 1 : 0);\n      }\n      // console.log([topArray, bottomArray]);\n      return [topArray, bottomArray];\n    } else {\n      for (let i = 0; i < topRowButtons.length; i++) {\n        topArray.push(topRowButtons[i].checked ? 1 : 0);\n        bottomArray.push(bottomRowButtons[i].checked ? 1 : 0);\n      }\n      // console.log([topArray, bottomArray]);\n      return [topArray, bottomArray];\n    }\n  }\n\n  // generates a generic matrix for new time signatures\n  generateSeqMatrix() {\n    const [numerator, denominator] = this.state.timeSig;\n    const finalMatrix = [];\n    // 8ths, 16ths, and 32nds matrices length determined by numerator\n    // half and quarters matrices length twice as long to incorporate rhythmic level below\n    if (denominator >= 8) {\n      for (let i = 0; i < numerator; i++) {\n        i % 2 === 0 ? finalMatrix.push(1) : finalMatrix.push(0);\n      }\n    } else {\n      for (let i = 0; i < numerator * 2; i++) {\n        i % 2 === 0 ? finalMatrix.push(1) : finalMatrix.push(0);\n      }\n    }\n    return finalMatrix;\n  }\n\n  // calculates phrase length of given time signature at 32nd resolution\n  calcMetLength() {\n    const [tempMultiplier, tempDivisor] = this.state.timeSig;\n    switch (tempDivisor) {\n      case 2:\n        return 16 * tempMultiplier;\n      case 4:\n        return 8 * tempMultiplier;\n      case 8:\n        return 4 * tempMultiplier;\n      case 16:\n        return 2 * tempMultiplier;\n      case 32:\n        return tempMultiplier;\n      default:\n        return 8 * tempMultiplier;\n    }\n  }\n\n  // returns resolution of note placement for generateMetronome()\n  calcBeatTicks() {\n    switch (this.state.timeSig[1]) {\n      case 2:\n        return 16;\n      case 4:\n        return 8;\n      case 8:\n        return 4;\n      case 16:\n        return 2;\n      case 32:\n        return 1;\n      default:\n        return 8;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <span id=\"info-span\">Sam Parsons ©2019</span>\n        <div className=\"title\">\n          <h3>Multimeter Metronome</h3>\n        </div>\n        <Dimension\n          timeSig={this.state.timeSig}\n          updateTimeSig={this.updateTimeSig.bind(this)}\n          updateMetronome={this.updateMetronome.bind(this)}\n          playing={this.state.playing}\n          togglePlaying={this.togglePlaying.bind(this)}\n          restartPlaying={this.restartPlaying.bind(this)}\n          bpm={this.state.bpm}\n          updateBPM={this.updateBPM.bind(this)}\n          resetMetronome={this.resetMetronome.bind(this)}\n          updateTempoSubdivision={this.updateTempoSubdivision.bind(this)}\n        />\n        <StepSequence\n          generateStepSequence={this.generateStepSequence.bind(this)}\n          updateMetronome={this.updateMetronome.bind(this)}\n          updateNotes={this.updateNotes.bind(this)}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}